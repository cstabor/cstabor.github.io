<!DOCTYPE html>
<html>
  <head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" >
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0">
	<title>TIMI PAGE</title>
	<meta name="description" content="毛小可嗒嗒的个人博客、web、前端、javascript、css、html、H5、CSS3、web前端工程师、gulp、jekyll、git">
	<meta name="keywords" content="web、前端、webapp、个人博客、技术博客、github博客、javascript、css、html、H5、CSS3、web前端工程师、gulp" />
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<meta name="msapplication-tap-highlight" content="no">
	<meta name="author" contect="maoxiaoke, maoxiaoke@outlook.com">
	<meta name="robots" content="index,follow">
	<link rel="shortcut icon" href="/styles/images/favicon.png">
	<link rel="icon" href="/styles/images/favicon.png">
	<link rel="stylesheet" href="/styles/css/index.css">
	<link rel="stylesheet" href="/styles/css/fontawesome/css/font-awesome.min.css">
	<link rel="canonical" href="http://0.0.0.0:4000">
	<!--[if lte IE 9]>
    	<script src="http://apps.bdimg.com/libs/html5shiv/3.7/html5shiv.min.js"></script>
  	<![endif]-->
	<!--[if lt IE 9]>
    	<script>window.location.href='/upgrade-your-browser.html';</script>
    <![endif]-->
	<script>
		var _hmt = _hmt || [];
		(function() {
  			var hm = document.createElement("script");
  			hm.src = "https://hm.baidu.com/hm.js?40ab350f7c60a488b8e8093960c0faf2";
  			var s = document.getElementsByTagName("script")[0]; 
  			s.parentNode.insertBefore(hm, s);
		})();
	</script>
</head>
  <body class="index">
    <header class="navbar navbar-inverse navbar-fixed-top docs-nav" role="banner">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a href="/" class="navbar-brand">
        <img src="/styles/images/logo.png" alt="小可嗒嗒的个人博客">
      </a>
    </div>
    <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
      <ul class="nav navbar-nav">
        <li></li>
        <li>
          <a href="/">首页</a>
        </li>
        <li>
          <a href="/categories/">博文分类</a>
        </li>
        <li>
          <a href="/tag">标签目录</a>
        </li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li><a rel="nofollow" href="/reference">外域链接</a></li>
        <li><a href="/effects">DEMO</a></li>
        <li><a href="/donate">打赏我</a></li>
        <li><a rel="nofollow" href="/me">关于我</a></li> 
        <li><a rel="nofollow" href="/talktome">TalkToMe</a></li>
             
        <!--
        <li><a rel="nofollow" target="_blank" href="http://cstabor.github.io/me/">关于我</a></li> 
        -->
      </ul>
    </nav>
  </div>
</header>
    <div class="docs-header pa" id="content">
    <canvas id="mycanvas">你的浏览器不支持canvas</canvas>
    <div class="container" >
  	
        <h1>Hello World</h1>
        <p></p>
    
  </div>
</div>
    
      
<div class="banner">
  <div class="container lh30">
  	
    	self maker
    
      <div id="search-container" class="pull-right">
          <input type="text" id="search-input" placeholder=" 试试直接搜索吧...">
          <label class="searchIcon glyphicon glyphicon-search" for="search-input"></label>
          <ul id="results-container"></ul>
      </div>
  </div>
</div>

    
     <div class="container docs-container">
      <div class="row">
        <div class="col-md-3">
          <div class="sidebar hidden-print" role="complementary">
            <ul class="about-me text-center">
              <li class="sidebar-title text-left"><span>About Me</span></li>
              <li class="me-header"><img class="img-circle" src="/styles/images/me/me.png" alt="这就是我"></li>
              <li><p><a href="https://github.com/maoxiaoke" target="_blank">M/J TIMI</a></p></li>
              <li class="we-chat">
                <span><a href="mailto:maoxiaoke@outlook.com;thebigyellowbee@qq.com"><svg viewBox="0 0 1024 1024" version="1.1"  width="30" height="30"><path d="M512 63.791885c-247.538793 0-448.208115 200.669322-448.208115 448.208115s200.669322 448.208115 448.208115 448.208115 448.208115-200.669322 448.208115-448.208115S759.538793 63.791885 512 63.791885zM774.58958 323.779198 512.332575 544.363082l-262.240633-220.583884L774.58958 323.779198zM248.078075 342.614172l175.202301 148.376329L248.078075 700.015118 248.078075 342.614172zM268.360004 700.220802l167.104879-197.293435 76.81141 63.081711 76.95058-65.046459 167.096692 199.258183L268.360004 700.220802zM775.921925 700.015118 600.727811 490.9905l175.194114-148.376329L775.921925 700.015118z" fill="#B5A9B7"></path>
                </svg></a></span>
                <span class="contact-list_1"><img class="contact-chat" src="/styles/images/me/chat2.png" alt="我的微信"><svg viewBox="0 0 1024 1024" version="1.1" width="30" height="30"><path d="M570.625024 510.793728c-10.160128 0-20.32128 9.435136-20.32128 21.046272 0 9.435136 10.160128 18.869248 20.32128 18.869248 15.240192 0 26.126336-9.435136 26.126336-18.869248C596.75136 520.228864 585.865216 510.793728 570.625024 510.793728z" fill="#B5A9B7"></path><path d="M503.856128 412.818432c15.966208 0 26.126336-10.160128 26.126336-25.401344 0-15.966208-10.160128-25.401344-26.126336-25.401344-15.240192 0-29.755392 9.435136-29.755392 25.401344C474.100736 402.658304 488.615936 412.818432 503.856128 412.818432z" fill="#B5A9B7"></path><path d="M511.839232 65.717248c-246.009856 0-445.44 199.430144-445.44 445.44s199.430144 445.44 445.44 445.44 445.44-199.430144 445.44-445.44S757.849088 65.717248 511.839232 65.717248zM427.65312 624.01024c-26.852352 0-46.447616-4.354048-71.84896-11.61216l-73.299968 37.013504 21.046272-62.413824c-51.52768-36.287488-82.009088-82.009088-82.009088-137.89184 0-98.701312 92.895232-174.178304 206.111744-174.178304 100.15232 0 189.41952 59.510784 206.83776 143.69792-7.257088-1.451008-13.789184-2.177024-19.595264-2.177024-98.701312 0-174.90432 74.025984-174.90432 163.29216 0 15.240192 2.177024 29.029376 5.80608 43.544576C439.991296 624.01024 433.4592 624.01024 427.65312 624.01024zM730.289152 695.133184l14.5152 52.253696-55.156736-31.207424c-21.046272 4.354048-41.367552 10.886144-62.413824 10.886144-97.250304 0-174.178304-66.768896-174.178304-149.502976s76.929024-149.502976 174.178304-149.502976c92.169216 0 174.90432 66.768896 174.90432 149.502976C802.137088 624.01024 770.930688 665.377792 730.289152 695.133184z" fill="#B5A9B7"></path><path d="M360.159232 362.016768c-15.240192 0-31.207424 9.435136-31.207424 25.401344 0 15.240192 15.966208 25.401344 31.207424 25.401344 14.5152 0 26.126336-10.160128 26.126336-25.401344C386.285568 371.45088 374.673408 362.016768 360.159232 362.016768z" fill="#B5A9B7"></path><path d="M684.566528 510.793728c-10.886144 0-20.32128 9.435136-20.32128 21.046272 0 9.435136 9.435136 18.869248 20.32128 18.869248 14.5152 0 25.401344-9.435136 25.401344-18.869248C709.967872 520.228864 699.081728 510.793728 684.566528 510.793728z" fill="#B5A9B7"></path>
                </svg></span>
                <span class="contact-list_2"><img class="contact-qq" src="/styles/images/me/QQ2.png" alt="我的QQ"><svg viewBox="0 0 1024 1024" version="1.1"  width="30" height="30"><path d="M512 64C264.56 64 64.033 264.565 64.033 512.007 64.033 759.447 264.56 960 512 960c247.415 0 447.967-200.553 447.967-447.993C959.967 264.566 759.414 64 512 64L512 64zM758.643 651.644c-11.555 10.784-31.423-0.977-50.519-27.406-8.286 22.389-19.094 43.001-31.628 61.532 26.998 9.65 44.342 24.68 44.342 41.665 0 29.312-51.855 53.04-115.885 53.04-38.01 0-71.568-8.313-92.773-21.23-20.999 12.918-54.764 21.23-92.749 21.23-64.028 0-115.909-23.728-115.909-53.04 0-16.78 17.37-32.015 44.367-41.665-12.714-18.503-23.316-39.144-31.628-61.532-19.095 26.225-38.937 38.19-50.518 27.406-15.828-14.849-9.831-67.322 13.69-117.068 5.404-11.374 11.168-21.591 17.14-30.47C299.867 359.463 395.138 243.36 512 243.36l0.386 0c116.862 0 212.133 115.911 215.401 260.745 5.97 8.879 11.785 19.095 17.164 30.47C768.294 584.321 774.469 636.795 758.643 651.644L758.643 651.644z" fill="#B5A9B7"></path>
                </svg></span>
                <span class="contact-list_3"><img class="contact-weibo" src="/styles/images/me/weibo2.png" alt="我的微博"><svg viewBox="0 0 1024 1024" version="1.1"  width="30" height="30"><path d="M471.451492 510.249123c-88.793302 4.100388-160.598698 51.671846-160.598698 111.01542 0 59.272965 71.805396 103.802134 160.598698 99.651604 88.889493-4.03592 160.823825-59.663868 160.823825-118.925576C632.274294 542.78105 560.340985 506.164085 471.451492 510.249123zM531.974937 659.501402c-27.198455 35.109636-81.011059 52.256154-133.285632 23.954575-24.863271-13.501502-23.940249-40.001039-23.940249-40.001039s-10.342556-83.672678 79.000262-94.111424C543.191396 538.953885 559.172369 624.39279 531.974937 659.501402zM429.729252 614.974279c-16.695241 1.736551-28.624944 16.291035-28.624944 30.181393 0 13.95585 13.420661 23.566742 30.115901 21.608134 16.597003-1.883907 30.116925-14.718213 30.116925-28.628014C461.337133 624.198362 448.888614 613.143585 429.729252 614.974279zM472.050126 603.482551c-5.722328 4.15053-6.889921 12.059664-3.777023 17.001209 2.982938 5.077645 9.952676 5.66093 15.592117 1.430582 5.51255-4.364401 7.653307-11.949146 4.670369-17.007349C485.552651 599.965447 478.68115 598.554308 472.050126 603.482551zM512.24457 66.981531c-246.678192 0-446.650643 199.972451-446.650643 446.650643s199.972451 446.650643 446.650643 446.650643 446.650643-199.972451 446.650643-446.650643S758.922762 66.981531 512.24457 66.981531zM711.664436 641.314181c-36.629245 77.771271-157.354817 115.635647-246.827595 108.615767-85.031629-6.694469-194.361663-34.930557-205.658963-137.825019 0 0-5.963829-46.616714 39.226397-106.915032 0 0 64.964594-90.753957 140.6606-116.655883 75.760474-25.755594 84.578304 17.847483 84.578304 43.618427-4.0175 21.883403-11.540847 34.737152 16.889669 25.900903 0 0 74.463945-34.523281 105.099686-3.888564 24.736381 24.733311 4.085038 58.756195 4.085038 58.756195s-10.243295 11.361769 10.862395 15.44783C681.745009 532.583804 748.266052 563.41295 711.664436 641.314181zM638.241192 426.446485c-8.106632 0-14.623046-6.548136-14.623046-14.604626 0-8.184403 6.516414-14.731516 14.623046-14.731516 0 0 91.269703-16.892739 80.362282 81.205487 0 0.583285-0.064468 1.037632-0.194428 1.556449-1.037632 6.935969-7.148817 12.269441-14.344706 12.269441-8.118911 0-14.734586-6.500041-14.734586-14.603603C689.329754 477.53914 703.789071 411.974889 638.241192 426.446485zM792.548604 504.900302l-0.130983 0c-2.399653 16.59598-10.647501 17.927301-20.455891 17.927301-11.735275 0-21.23258-7.393387-21.23258-19.128663 0-10.178827 4.211928-20.518313 4.211928-20.518313 1.25048-4.28049 11.18576-30.928407-6.547113-70.704318-32.451086-54.525847-97.835236-55.336306-105.553011-52.222385-7.779174 3.045359-19.285229 4.600785-19.285229 4.600785-11.803837 0-21.283746-9.628288-21.283746-21.299095 0-9.82067 6.565533-18.121729 15.512299-20.648272 0 0 0.191358-0.324388 0.518816-0.38988 0.647753-0.12996 1.297552-0.796132 2.010797-0.860601 9.092076-1.733481 41.558511-8.118911 73.101925-0.728594C749.887992 334.122777 827.399343 388.714116 792.548604 504.900302z" fill="#B5A9B7"></path>
              </svg></span>
                <span><a href="https://github.com/test/" target="_blank"><svg viewBox="0 0 1024 1024" version="1.1" width="30" height="30"><path d="M512 73.142857q119.428571 0 220.285714 58.857143T892 291.714286 950.857143 512q0 143.428571-83.714286 258T650.857143 928.571429q-15.428571 2.857143-22.857143-4t-7.428571-17.142858q0-1.714286 0.285714-43.714285t0.285714-76.857143q0-55.428571-29.714286-81.142857 32.571429-3.428571 58.571429-10.285715t53.714286-22.285714 46.285714-38 30.285714-60T792 489.142857q0-68-45.142857-117.714286 21.142857-52-4.571429-116.571428-16-5.142857-46.285714 6.285714t-52.571429 25.142857l-21.714285 13.714286q-53.142857-14.857143-109.714286-14.857143t-109.714286 14.857143q-9.142857-6.285714-24.285714-15.428571T330.285714 262.571429 281.714286 254.857143q-25.714286 64.571429-4.571429 116.571428-45.142857 49.714286-45.142857 117.714286 0 48.571429 11.714286 85.714286t30 60 46 38.285714 53.714285 22.285714 58.571429 10.285715q-22.285714 20.571429-28 58.857143-12 5.714286-25.714286 8.571428t-32.571428 2.857143-37.428572-12.285714T276.571429 728q-10.857143-18.285714-27.714286-29.714286t-28.285714-13.714285l-11.428572-1.714286q-12 0-16.571428 2.571428t-2.857143 6.571429 5.142857 8 7.428571 6.857143l4 2.857143q12.571429 5.714286 24.857143 21.714285t18 29.142858l5.714286 13.142857q7.428571 21.714286 25.142857 35.142857t38.285714 17.142857 39.714286 4 31.714286-2l13.142857-2.285714q0 21.714286 0.285714 50.571428t0.285714 31.142857q0 10.285714-7.428571 17.142858t-22.857143 4q-132.571429-44-216.285714-158.571429T73.142857 512q0-119.428571 58.857143-220.285714T291.714286 132 512 73.142857zM239.428571 703.428571q1.714286-4-4-6.857142-5.714286-1.714286-7.428571 1.142857-1.714286 4 4 6.857143 5.142857 3.428571 7.428571-1.142858z m17.714286 19.428572q4-2.857143-1.142857-9.142857-5.714286-5.142857-9.142857-1.714286-4 2.857143 1.142857 9.142857 5.714286 5.714286 9.142857 1.714286z m17.142857 25.714286q5.142857-4 0-10.857143-4.571429-7.428571-9.714285-3.428572-5.142857 2.857143 0 10.285715t9.714285 4z m24 24q4.571429-4.571429-2.285714-10.857143-6.857143-6.857143-11.428571-1.714286-5.142857 4.571429 2.285714 10.857143 6.857143 6.857143 11.428571 1.714286z m32.571429 14.285714q1.714286-6.285714-7.428572-9.142857-8.571429-2.285714-10.857142 4t7.428571 8.571428q8.571429 3.428571 10.857143-3.428571z m36 2.857143q0-7.428571-9.714286-6.285715-9.142857 0-9.142857 6.285715 0 7.428571 9.714286 6.285714 9.142857 0 9.142857-6.285714z m33.142857-5.714286q-1.142857-6.285714-10.285714-5.142857-9.142857 1.714286-8 8.571428t10.285714 4.571429 8-8z"  fill="#B5A9B7"></path>
                  </svg></a></span>
              </li>
              <li class="text-primary"><p class="lead">死亡面前，事事都会后悔！</p></li>
              <!--calendar-->
              <script src="/styles/js/calendar.min.js"></script>
              <li class="calendar"></li>
              <script>var year = (new Date()).getFullYear() + 1;
              new calendar('.calendar', {
                limitRange: [
                  ['today', year + '0101']
                ],
                isRange: true
              });</script>
              <!--tags-->
              <li id="tagscloud">
                
                
                <a href="/tag/#yii2-ref">yii2</a>
                
                <a href="/tag/#php-ref">php</a>
                
                <a href="/tag/#php_ext-ref">php_ext</a>
                
                <a href="/tag/#nginx,-ref">nginx,</a>
                
                <a href="/tag/#linux shell-ref">linux shell</a>
                
                
              </li>
            </ul>
          </div>
        </div>
        <div class="col-md-9" role="main">
          <div class="panel docs-content">
            <!-- 遍历分页后的文章 -->           
            
            
            
            
            
            
            <h2 id="year_2017">2017</h2>
            <h3 id="month_2017_November">November</h3>
            <div>
              
              <div class="breadcrumb clearfix">
                <div><h3 style="margin-top:13px"><a class="color-title" rel="nofollow" href='/2017/11/08/Linux_Process_Tool/' target="_blank">Linux Process Tool</a></h3></div>
                  <div class="excerpt"><ul id="markdown-toc">
  <li><a href="#进程" id="markdown-toc-进程">进程</a>    <ul>
      <li><a href="#1-strace" id="markdown-toc-1-strace">1. strace</a>        <ul>
          <li><a href="#11-诊断进程id" id="markdown-toc-11-诊断进程id">1.1 诊断进程ID</a></li>
          <li><a href="#12-诊断程序" id="markdown-toc-12-诊断程序">1.2 诊断程序</a></li>
          <li><a href="#12-统计汇总进程的调用" id="markdown-toc-12-统计汇总进程的调用">1.2 统计汇总进程的调用</a></li>
          <li><a href="#13-按进程名查看" id="markdown-toc-13-按进程名查看">1.3 按进程名查看</a></li>
          <li><a href="#14-查看进程的线程" id="markdown-toc-14-查看进程的线程">1.4 查看进程的线程</a></li>
          <li><a href="#15-时间统计" id="markdown-toc-15-时间统计">1.5 时间统计</a></li>
          <li><a href="#16-输出到标准输出" id="markdown-toc-16-输出到标准输出">1.6 输出到标准输出</a></li>
          <li><a href="#17-输出到指定文件" id="markdown-toc-17-输出到指定文件">1.7 输出到指定文件</a></li>
          <li><a href="#18-跟踪指定调用的耗时" id="markdown-toc-18-跟踪指定调用的耗时">1.8 跟踪指定调用的耗时</a></li>
          <li><a href="#19-内核态和用户态" id="markdown-toc-19-内核态和用户态">1.9 内核态和用户态</a></li>
          <li><a href="#refer" id="markdown-toc-refer">refer</a></li>
        </ul>
      </li>
      <li><a href="#2-ltrace" id="markdown-toc-2-ltrace">2. ltrace</a></li>
      <li><a href="#3-进程查看" id="markdown-toc-3-进程查看">3. 进程查看</a>        <ul>
          <li><a href="#31-pidof按进程名查进程号" id="markdown-toc-31-pidof按进程名查进程号">3.1 (pidof)按进程名查进程号</a></li>
          <li><a href="#32-pgrep-过滤最新进程id" id="markdown-toc-32-pgrep-过滤最新进程id">3.2 (pgrep) 过滤最新进程ID</a></li>
          <li><a href="#33-pwdx-查看进程的路径" id="markdown-toc-33-pwdx-查看进程的路径">3.3 (pwdx) 查看进程的路径</a></li>
          <li><a href="#34-top-查看系统负载" id="markdown-toc-34-top-查看系统负载">3.4 (top) 查看系统负载</a>            <ul>
              <li><a href="#341-间隔时间查看系统负载" id="markdown-toc-341-间隔时间查看系统负载">3.4.1 间隔时间查看系统负载</a></li>
              <li><a href="#342-查看cpu列表" id="markdown-toc-342-查看cpu列表">3.4.2 查看CPU列表</a></li>
              <li><a href="#343-按cpu排序" id="markdown-toc-343-按cpu排序">3.4.3 按CPU排序</a></li>
              <li><a href="#344-查看指定进程id的负载" id="markdown-toc-344-查看指定进程id的负载">3.4.4 查看指定进程ID的负载</a></li>
              <li><a href="#345-根据用户查看进程httpd负载" id="markdown-toc-345-根据用户查看进程httpd负载">3.4.5 根据用户查看进程httpd负载</a></li>
            </ul>
          </li>
          <li><a href="#35-ps-查询" id="markdown-toc-35-ps-查询">3.5 (ps) 查询</a>            <ul>
              <li><a href="#351-按名称查询" id="markdown-toc-351-按名称查询">3.5.1 按名称查询</a></li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#子进程" id="markdown-toc-子进程">子进程</a>    <ul>
      <li><a href="#11-ps子进程列表" id="markdown-toc-11-ps子进程列表">1.1 (ps)子进程列表</a></li>
      <li><a href="#12-pstree子进程列表" id="markdown-toc-12-pstree子进程列表">1.2 (pstree)子进程列表</a>        <ul>
          <li><a href="#121-查看指定用户的进程树" id="markdown-toc-121-查看指定用户的进程树">1.2.1 查看指定用户的进程树</a></li>
        </ul>
      </li>
      <li><a href="#11-ps查看" id="markdown-toc-11-ps查看">1.1 (ps)查看</a></li>
      <li><a href="#12-top查看" id="markdown-toc-12-top查看">1.2 (top)查看</a></li>
    </ul>
  </li>
</ul>

<h1 id="进程">进程</h1>

<h2 id="1-strace">1. strace</h2>

<p>strace - trace system calls and signals</p>

<h3 id="11-诊断进程id">1.1 诊断进程ID</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// strace a running process
strace -p [pid]

// strace a running process and threads
strace -fp [pid]

// strace a running process and print strings
strace -s 80 -fp [pid]
</code></pre></div></div>

<p>示例：</p>

<p>注意需要root权限</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># strace -p 2061
strace: Process 2061 attached
semop(393224, [{0, -1, SEM_UNDO}], 1
</code></pre></div></div>

<h3 id="12-诊断程序">1.2 诊断程序</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// strace a program
strace ./program

// strace a program and threads
strace -f ./program

// strace a program and print strings
strace -s 80 -f ./program
</code></pre></div></div>

<h3 id="12-统计汇总进程的调用">1.2 统计汇总进程的调用</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>strace -c -p pid

strace -c process_name
</code></pre></div></div>

<p>示例</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># strace -c -p 1191
strace: Process 1191 attached

^Cstrace: Process 1191 detached
% time     seconds  usecs/call     calls    errors syscall
------ ----------- ----------- --------- --------- ----------------
 30.82    0.000777          22        35           open
 28.32    0.000714          20        35           read
 23.24    0.000586          17        35           epoll_wait
 17.61    0.000444          13        35           close
------ ----------- ----------- --------- --------- ----------------
100.00    0.002521                   140           total
</code></pre></div></div>

<h3 id="13-按进程名查看">1.3 按进程名查看</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>strace ls

strace ./hello
</code></pre></div></div>

<h3 id="14-查看进程的线程">1.4 查看进程的线程</h3>

<p>-f          Trace  child  processes  as  they  are  created  by currently traced processes as a result of the fork(2), vfork(2) and clone(2) system calls.  Note that -p PID -f will attach all threads of process PID if it is  multi-threaded,  not  only thread with thread_id = PID.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>strace -f -p pid

strace -f proccess_name
</code></pre></div></div>

<h3 id="15-时间统计">1.5 时间统计</h3>

<p>-r 表示相对时间</p>

<p>-T 表示绝对时间</p>

<p>简单统计可以用<code class="highlighter-rouge">-r</code>，但是需要注意的是在多任务背景下，CPU随时可能会被切换出去做别的事情，所以相对时间不一定准确，此时最好使用<code class="highlighter-rouge">-T</code>，在行尾可以看到操作时间，可以发现确实很慢。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ strace -r ./hello
     0.000000 execve("./hello", ["./hello"], [/* 66 vars */]) = 0
     0.000417 brk(NULL)                 = 0x1765000
     0.000102 mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f7af22cd000
     0.000095 access("/etc/ld.so.preload", R_OK) = -1 ENOENT (No such file or directory)
     0.000079 open("/etc/ld.so.cache", O_RDONLY|O_CLOEXEC) = 3
     0.000068 fstat(3, {st_mode=S_IFREG|0644, st_size=135921, ...}) = 0
     0.000070 mmap(NULL, 135921, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7f7af22ab000
     0.000054 close(3)                  = 0

</code></pre></div></div>

<h3 id="16-输出到标准输出">1.6 输出到标准输出</h3>

<p>注意: strace的结果在标准错误里，使用前最好重定向到标准输出。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ strace -T ./hello 2&gt;&amp;1 | grep -B 5 brk
execve("./hello", ["./hello"], [/* 66 vars */]) = 0 &lt;0.000150&gt;
brk(NULL)                               = 0xf35000 &lt;0.000031&gt;
</code></pre></div></div>

<h3 id="17-输出到指定文件">1.7 输出到指定文件</h3>

<p>-o filename Write  the trace output to the file filename rather than to stderr.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ strace -o /tmp/strace.out -T ./hello
</code></pre></div></div>

<h3 id="18-跟踪指定调用的耗时">1.8 跟踪指定调用的耗时</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>       -e expr     A qualifying expression which modifies which events to trace or how to trace them.   The
                   format of the expression is:

                             [qualifier=][!]value1[,value2]...

                   where  qualifier is one of trace, abbrev, verbose, raw, signal, read, or write and value
                   is a qualifier-dependent symbol or number.  The default qualifier is  trace.   Using  an
                   exclamation  mark  negates  the  set  of  values.   For example, -e open means literally
                   -e trace=open which in turn means  trace  only  the  open  system  call.   By  contrast,
                   -e trace=!open  means  to trace every system call except open.  In addition, the special
                   values all and none have the obvious meanings.

</code></pre></div></div>

<p>示例</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ strace -e open -T ./hello
open("/etc/ld.so.cache", O_RDONLY|O_CLOEXEC) = 3 &lt;0.000015&gt;
open("/lib64/libc.so.6", O_RDONLY|O_CLOEXEC) = 3 &lt;0.000015&gt;
file num: 256
+++ exited with 0 +++

</code></pre></div></div>

<h3 id="19-内核态和用户态">1.9 内核态和用户态</h3>

<p>如果用 strace 跟踪一个进程，输出结果很少，可以试试 ltrace，可能会发现别有洞天。记住有内核态和用户态之分。</p>

<h3 id="refer">refer</h3>

<ol>
  <li>https://blog.packagecloud.io/eng/2015/11/15/strace-cheat-sheet/</li>
</ol>

<h2 id="2-ltrace">2. ltrace</h2>

<p>ltrace - A library call tracer</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>strace
https://rainbow.chard.org/2011/10/02/debug-like-a-sysadmin/


ptrace - process trace
pidx

mtrace (3)           - malloc tracing
muntrace (3)         - malloc tracing
backtrace (3)        - support for application self-debugging
tcptraceroute (8)    - print the route packets trace to network host

/usr/bin/ltrace
/usr/bin/mtrace
/usr/bin/strace
/usr/bin/blktrace
/usr/bin/btrace
/usr/bin/dtrace
/usr/bin/xtrace

/usr/sbin/autrace

lstat("/home/data/services/yesdatphp/bosslite/api/runtime/logs/app.log", {st_mode=S_IFREG|0644, st_size=4269249, ...}) = 0
lstat("/home/data/services/yesdatphp/bosslite/api/runtime/logs", {st_mode=S_IFDIR|0775, st_size=4096, ...}) = 0
lstat("/home/data/services/yesdatphp/bosslite/api/runtime", {st_mode=S_IFLNK|0777, st_size=28, ...}) = 0
readlink("/home/data/services/yesdatphp/bosslite/api/runtime", "/data/logs/bosslite_api-1.0/", 4096) = 28
</code></pre></div></div>

<h2 id="3-进程查看">3. 进程查看</h2>

<h3 id="31-pidof按进程名查进程号">3.1 (pidof)按进程名查进程号</h3>

<p>pidof – find the process ID of a running program.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pidof process_name
</code></pre></div></div>

<p>示例</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ pidof httpd
2061 2060 2059 2058 2057 2056 2055 2054 2047 2046 2045 2044 1899 1898 1846 1711 1710 1709 1708 1707 1706 1705 1704 1703 1702 1615
</code></pre></div></div>

<h3 id="32-pgrep-过滤最新进程id">3.2 (pgrep) 过滤最新进程ID</h3>

<p>pgrep, pkill - look up or signal processes based on name and other attributes</p>

<p>示例</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pgrep -n httpd
2061
</code></pre></div></div>

<h3 id="33-pwdx-查看进程的路径">3.3 (pwdx) 查看进程的路径</h3>

<p>report current working directory of a process</p>

<p>示例</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ pwdx 1191
1191: /usr/local/services/redis-3.2.0/data/6379
</code></pre></div></div>

<h3 id="34-top-查看系统负载">3.4 (top) 查看系统负载</h3>

<h4 id="341-间隔时间查看系统负载">3.4.1 间隔时间查看系统负载</h4>

<p>每间隔一秒输出一次系统负载</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>top -d 1
</code></pre></div></div>

<p>也可以进入 <code class="highlighter-rouge">top</code> 命令后 输入 <code class="highlighter-rouge">d</code>  再输入 <code class="highlighter-rouge">1</code>，实现相同的功能</p>

<h4 id="342-查看cpu列表">3.4.2 查看CPU列表</h4>

<p>进入 <code class="highlighter-rouge">top</code> 后 按 <code class="highlighter-rouge">1</code></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%Cpu0  :  1.2 us,  0.4 sy,  0.0 ni, 94.9 id,  3.5 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu1  :  0.8 us,  0.0 sy,  0.0 ni, 99.2 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu2  :  2.0 us,  0.4 sy,  0.0 ni, 97.6 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu3  :  1.2 us,  0.4 sy,  0.0 ni, 98.4 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu4  :  0.4 us,  0.4 sy,  0.0 ni, 99.2 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu5  :  0.8 us,  0.4 sy,  0.0 ni, 98.8 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
%Cpu7  :  0.8 us,  0.0 sy,  0.0 ni, 99.2 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st

</code></pre></div></div>

<h4 id="343-按cpu排序">3.4.3 按CPU排序</h4>

<p><code class="highlighter-rouge">shift + P</code></p>

<h4 id="344-查看指定进程id的负载">3.4.4 查看指定进程ID的负载</h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>top -p pid
</code></pre></div></div>

<p>示例</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>top -p 25837,2492
</code></pre></div></div>

<p>注意：分隔符是 逗号</p>

<h4 id="345-根据用户查看进程httpd负载">3.4.5 根据用户查看进程httpd负载</h4>

<ol>
  <li>top 进入负载检测页面</li>
  <li>输入 <code class="highlighter-rouge">u</code>  再输入 apache 的运行用户 <code class="highlighter-rouge">nobdoy</code>  ，即展示了 httpd 的负载进程相关参数</li>
</ol>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>top - 18:08:27 up 2 days,  8:35,  6 users,  load average: 0.25, 0.28, 0.22
Tasks: 379 total,   2 running, 377 sleeping,   0 stopped,   0 zombie
%Cpu(s):  1.5 us,  0.5 sy,  0.0 ni, 97.8 id,  0.2 wa,  0.0 hi,  0.0 si,  0.0 st
KiB Mem : 12009984 total,   393028 free,  7572180 used,  4044776 buff/cache
KiB Swap:  6103036 total,  6103036 free,        0 used.  3228692 avail Mem 

  PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND                                                 
15461 nobody    20   0  381412  36220   5752 S   0.0  0.3   0:09.40 httpd                                                   
15462 nobody    20   0  382224  36864   5824 S   0.0  0.3   0:09.61 httpd                                                   
15463 nobody    20   0  378092  36684   5656 S   0.0  0.3   0:08.26 httpd                                                   
15464 nobody    20   0  380728  35660   5760 S   0.0  0.3   0:08.61 httpd                                                   
15465 nobody    20   0  384556  39368   5752 S   0.0  0.3   0:09.59 httpd                                                   
15466 nobody    20   0  381716  36248   5712 S   0.0  0.3   0:08.37 httpd                                                   
15467 nobody    20   0  379208  34324   5956 S   0.0  0.3   0:07.99 httpd                                                   
15468 nobody    20   0  376740  36072   6032 S   0.0  0.3   0:07.93 httpd                                                   
15469 nobody    20   0  375224  34196   5676 S   0.0  0.3   0:06.31 httpd
</code></pre></div></div>

<h3 id="35-ps-查询">3.5 (ps) 查询</h3>

<h4 id="351-按名称查询">3.5.1 按名称查询</h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>-C cmdlist
	Select by command name.  This selects the processes whose executable name is given in cmdlist.

h      
	No header.  (or, one header per screen in the BSD personality).  The h option is problematic.  Standard
	BSD ps uses this option to print a header on each page of output, but older Linux ps uses this option to
	totally disable the header.  This version of ps follows the Linux usage of not printing the header unless
  	the BSD personality has been selected, in which case it prints a header on each page of output.
  	Regardless of the current personality, you can use the long options --headers and --no-headers to enable
  	printing headers each page or disable headers entirely, respectively.

-o format
	User-defined format.  format is a single argument in the form of a blank-separated or comma-separated
	list, which offers a way to specify individual output columns. 
	stat, pid, ppid, cmd

</code></pre></div></div>

<p>示例1</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ps -C httpd
  PID TTY          TIME CMD
15454 ?        00:00:03 httpd
15461 ?        00:00:09 httpd
15462 ?        00:00:09 httpd
15463 ?        00:00:08 httpd
15464 ?        00:00:08 httpd
15465 ?        00:00:09 httpd
15466 ?        00:00:08 httpd
15467 ?        00:00:07 httpd
</code></pre></div></div>

<p>示例2</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[user_00@node7 yesdatphp]$ ps h -C httpd
15454 ?        Ss     0:03 /usr/local/services/httpd-2.4.12/bin/httpd -k start
15461 ?        S      0:09 /usr/local/services/httpd-2.4.12/bin/httpd -k start
15462 ?        S      0:09 /usr/local/services/httpd-2.4.12/bin/httpd -k start
15463 ?        S      0:08 /usr/local/services/httpd-2.4.12/bin/httpd -k start
15464 ?        S      0:08 /usr/local/services/httpd-2.4.12/bin/httpd -k start
15465 ?        S      0:09 /usr/local/services/httpd-2.4.12/bin/httpd -k start
15466 ?        S      0:08 /usr/local/services/httpd-2.4.12/bin/httpd -k start
15467 ?        S      0:07 /usr/local/services/httpd-2.4.12/bin/httpd -k start
15468 ?        S      0:07 /usr/local/services/httpd-2.4.12/bin/httpd -k start
</code></pre></div></div>

<p>示例3</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[user_00@node7 yesdatphp]$ ps h -ostat,pid -C httpd
Ss   15454
S    15461
S    15462
S    15463
S    15464
S    15465
S    15466
S    15467

</code></pre></div></div>

<h1 id="子进程">子进程</h1>

<h2 id="11-ps子进程列表">1.1 (ps)子进程列表</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ps -ostat,cmd --ppid &lt;ppid&gt;
</code></pre></div></div>

<p>–ppid   指定父进程ID</p>

<p>-o</p>

<p>​	stat    状态</p>

<p>​	pid     进程ID</p>

<p>​	cmd   启动命令</p>

<p>​	args   与 cmd 类似</p>

<p>​	lstart  启动时间</p>

<p>示例</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[user_00@dev201 6379]$ ps -opid,stat,cmd --ppid 47466
  PID STAT CMD
48683 S    /usr/local/services/httpd-2.4.12/bin/httpd -k start
48684 S    /usr/local/services/httpd-2.4.12/bin/httpd -k start
48685 S    /usr/local/services/httpd-2.4.12/bin/httpd -k start
48686 S    /usr/local/services/httpd-2.4.12/bin/httpd -k start
</code></pre></div></div>

<h2 id="12-pstree子进程列表">1.2 (pstree)子进程列表</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[user_00@node7 yesdatphp]$ pstree -p 15454
httpd(15454)─┬─httpd(15461)
             ├─httpd(15462)
             ├─httpd(15463)
             ├─httpd(15464)
             ├─httpd(15465)
             ├─httpd(15466)
             ├─httpd(15467)

</code></pre></div></div>

<h3 id="121-查看指定用户的进程树">1.2.1 查看指定用户的进程树</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pstree &lt;user_name&gt;
</code></pre></div></div>

<p>示例</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[user_00@node7 yesdatphp]$ pstree mysql
mysqld_safe───mysqld───18*[{mysqld}]

</code></pre></div></div>

<p>#线程</p>

<p>线程是现代操作系统上进行并行执行的一个流行的编程方面的抽象概念。当一个程序内有多个线程被叉分出用以执行多个流时，这些线程就会在它们之间共享 特定的资源（如，内存地址空间、打开的文件），以使叉分开销最小化，并避免大量高成本的IPC（进程间通信）通道。这些功能让线程在并发执行时成为一个高 效的机制。
在Linux中，程序中创建的线程（也称为轻量级进程，LWP）会具有和程序的PID相同的“线程组ID”。然后，各个线程会获得其自身的线程 ID（TID）。对于Linux内核调度器而言，线程不过是恰好共享特定资源的标准的进程而已。经典的命令行工具，如ps或top，都可以用来显示线程级 别的信息，只是默认情况下它们显示进程级别的信息。</p>

<h2 id="11-ps查看">1.1 (ps)查看</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ps -T -p &lt;pid&gt;
</code></pre></div></div>

<p>-T  开启线程查看</p>

<p>示例：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[user_00@node7 apache-tomcat-8.5.23]$ ps -T -p 8488
  PID  SPID TTY          TIME CMD
 8488  8488 pts/1    00:00:00 java
 8488  8503 pts/1    00:00:00 java
 8488  8508 pts/1    00:00:00 java
 8488  8509 pts/1    00:00:00 java
 8488  8510 pts/1    00:00:00 java
 8488  8511 pts/1    00:00:00 java
 8488  8512 pts/1    00:00:00 java
 8488  8513 pts/1    00:00:00 java
</code></pre></div></div>

<p>SPID  表示线程ID</p>

<p>CMD  表示线程名称</p>

<h2 id="12-top查看">1.2 (top)查看</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>top -H -p &lt;pid&gt;
</code></pre></div></div>

<p>-H   列出所有linux线程</p>

<p>示例：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>top - 15:37:41 up 2 days,  6:04,  6 users,  load average: 0.38, 0.17, 0.14
Threads:  51 total,   0 running,  51 sleeping,   0 stopped,   0 zombie
%Cpu(s):  2.0 us,  0.5 sy,  0.0 ni, 97.4 id,  0.2 wa,  0.0 hi,  0.0 si,  0.0 st
KiB Mem : 12009984 total,   210388 free,  7084520 used,  4715076 buff/cache
KiB Swap:  6103036 total,  6103036 free,        0 used.  3678600 avail Mem 

  PID USER      PR  NI    VIRT    RES    SHR S %CPU %MEM     TIME+ COMMAND                                       
 8555 user_00   20   0 6948056 145960  11668 S  0.3  1.2   0:00.13 java                                          
 8488 user_00   20   0 6948056 145960  11668 S  0.0  1.2   0:00.00 java                                          
 8503 user_00   20   0 6948056 145960  11668 S  0.0  1.2   0:00.76 java                                          
 8508 user_00   20   0 6948056 145960  11668 S  0.0  1.2   0:00.01 java                                          
 8509 user_00   20   0 6948056 145960  11668 S  0.0  1.2   0:00.01 java                                          
 8510 user_00   20   0 6948056 145960  11668 S  0.0  1.2   0:00.01 java                                          
 8511 user_00   20   0 6948056 145960  11668 S  0.0  1.2   0:00.00 java                                          
 8512 user_00   20   0 6948056 145960  11668 S  0.0  1.2   0:00.01 java 
</code></pre></div></div>

<p>也可以进入 top 之后再按 <code class="highlighter-rouge">H</code> ，显示线程</p>

</div>
                  <!--
                  <p><span class="date-artical pull-left lh30">November  8 , 2017<a class="tags-title" href="/tag/#linux shell-ref">linux shell</a></span><a class="btn btn-primary pull-right" rel="nofollow" href='/2017/11/08/Linux_Process_Tool/' target="_blank">阅读全文</a></p>
                  -->
                  <p><span class="date-artical pull-left lh30">November  8 , 2017
                      
                        <a class="tags-title" href="/tag/#linux shell-ref">linux shell</a>&nbsp;
                      
                      </span><a class="btn btn-primary pull-right" rel="nofollow" href='/2017/11/08/Linux_Process_Tool/' target="_blank">阅读全文</a></p>
              </div><hr>
              
            
            </ul>
            <h2 id="year_2016">2016</h2>
            <h3 id="month_2016_July">July</h3>
            <ul>
              
              
            
            
            
            
            
            
              <div class="breadcrumb clearfix">
                <div><h3 style="margin-top:13px"><a class="color-title" rel="nofollow" href='/2016/07/04/svn_ignore_config/' target="_blank">svn ignore config</a></h3></div>
                  <div class="excerpt"><ul id="markdown-toc">
  <li><a href="#svn-ignore-配置" id="markdown-toc-svn-ignore-配置">svn ignore 配置</a>    <ul>
      <li><a href="#修改版本库属性" id="markdown-toc-修改版本库属性">修改版本库属性</a></li>
      <li><a href="#配置svn-客户端" id="markdown-toc-配置svn-客户端">配置svn 客户端</a></li>
    </ul>
  </li>
</ul>

<h1 id="svn-ignore-配置">svn ignore 配置</h1>

<p>两种方式</p>

<ol>
  <li>修改版本库属性</li>
  <li>配置svn客户端</li>
</ol>

<h2 id="修改版本库属性">修改版本库属性</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>svn pe svn:ignore dir
or
svn propedit svn:ignore dir
</code></pre></div></div>
<p>输入</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>runtime
*.svn
</code></pre></div></div>

<p>提交</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>svn ci -m "update message" dir
</code></pre></div></div>

<blockquote>
  <p>dir 是要设施过滤文件列表的目录，执行命令后，输入你想过滤的文件。
支持通配符。 这个属性是针对版本库进行修改的，故需要提交这个修改
svn:ignore 是svn 的一个参数。</p>
</blockquote>

<p><strong>注意</strong>：此设置无法递归设置，即，如果dir 目录下还有子目录，需要单独设置。</p>

<h2 id="配置svn-客户端">配置svn 客户端</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vim ~/.subversion/config
</code></pre></div></div>
<blockquote>
  <p>找到 miscellany 去掉此行注释。编辑global-igonres 并去掉注释。
此配置是对客户端的修改，对版本库没有任何影响。同时，这个配置也是全局的，使用于本地的所有svn项目。</p>
</blockquote>
</div>
                  <!--
                  <p><span class="date-artical pull-left lh30">July  4 , 2016<a class="tags-title" href="/tag/#-ref"></a></span><a class="btn btn-primary pull-right" rel="nofollow" href='/2016/07/04/svn_ignore_config/' target="_blank">阅读全文</a></p>
                  -->
                  <p><span class="date-artical pull-left lh30">July  4 , 2016
                      
                      </span><a class="btn btn-primary pull-right" rel="nofollow" href='/2016/07/04/svn_ignore_config/' target="_blank">阅读全文</a></p>
              </div><hr>
              
            
              
            </ul>
            <h3 id="month_2016_June">June</h3>
            <ul>
              
              
              
            
            
            
            
            
            
              <div class="breadcrumb clearfix">
                <div><h3 style="margin-top:13px"><a class="color-title" rel="nofollow" href='/2016/06/16/shell_flow_controll/' target="_blank">shell flow control</a></h3></div>
                  <div class="excerpt"><h2 id="if">if</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>

<span class="nv">age</span><span class="o">=</span>5

<span class="k">if</span> <span class="o">[</span> 5 <span class="nt">-lt</span> <span class="nv">$age</span> <span class="o">]</span>
<span class="k">then
        </span><span class="nv">out</span><span class="o">=</span><span class="s2">"age low than 1"</span>
<span class="k">elif</span> <span class="o">[</span> 5 <span class="nt">-eq</span> <span class="nv">$age</span> <span class="o">]</span>
<span class="k">then
        </span><span class="nv">out</span><span class="o">=</span><span class="s2">"age eq 5"</span>
<span class="k">else
        </span><span class="nv">out</span><span class="o">=</span><span class="s2">"age greate than 5"</span>
<span class="k">fi

</span><span class="nb">echo</span> <span class="nv">$out</span>
</code></pre></div></div>
<p>注意</p>

<blockquote>
  <p>shell可以按照分号分割,也可以按照换行符分割
如果想一行写入多个命令，可以通过<code class="highlighter-rouge">;</code>分割</p>
</blockquote>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>user_00@node7 shell]<span class="nv">$ a</span><span class="o">=</span>2<span class="p">;</span><span class="k">if</span> <span class="o">[[</span> a <span class="nt">-gt</span> 4 <span class="o">]]</span> <span class="p">;</span><span class="k">then </span><span class="nb">echo</span> <span class="s1">'gt'</span><span class="p">;</span><span class="k">else </span><span class="nb">echo</span> <span class="s2">"not gt"</span><span class="p">;</span><span class="k">fi</span><span class="p">;</span>                        
not gt
<span class="o">[</span>user_00@node7 shell]<span class="nv">$ a</span><span class="o">=</span>2<span class="p">;</span><span class="k">if</span> <span class="o">[[</span> <span class="nv">$a</span> <span class="nt">-gt</span> 4 <span class="o">]]</span> <span class="p">;</span><span class="k">then </span><span class="nb">echo</span> <span class="s1">'gt'</span><span class="p">;</span><span class="k">else </span><span class="nb">echo</span> <span class="s2">"not gt"</span><span class="p">;</span><span class="k">fi</span><span class="p">;</span>                        
not gt
</code></pre></div></div>

<h2 id="while">while</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>
<span class="nv">i</span><span class="o">=</span>10
<span class="k">while</span> <span class="o">[[</span> <span class="nv">$i</span> <span class="nt">-gt</span> 5 <span class="o">]]</span>
<span class="k">do
        </span><span class="nb">echo</span> <span class="nv">$i</span>
        <span class="o">((</span>i--<span class="o">))</span>
<span class="k">done</span>
</code></pre></div></div>

<h3 id="while-read">while read</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>

<span class="k">while </span><span class="nb">read </span>line
<span class="k">do
	</span><span class="nb">echo</span> <span class="nv">$line</span>
<span class="k">done</span> &lt; /etc/hosts
</code></pre></div></div>

<h2 id="until">until</h2>

<p>注意</p>

<blockquote>
  <p>直到满足条件退出，否则执行action。</p>
</blockquote>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>

<span class="nv">a</span><span class="o">=</span>5
<span class="k">until</span> <span class="o">[[</span> <span class="nv">$a</span> <span class="nt">-lt</span> 0 <span class="o">]]</span>
<span class="k">do
	</span><span class="nb">echo</span> <span class="nv">$a</span>
	<span class="o">((</span>a--<span class="o">))</span>
<span class="k">done</span>
</code></pre></div></div>

<h2 id="switch">switch</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh </span>

<span class="k">case</span> <span class="nv">$1</span> <span class="k">in
	</span>start|begin<span class="p">)</span>
		<span class="nb">echo</span> <span class="s2">"start something"</span>  
		<span class="p">;;</span>
	stop|end<span class="p">)</span>
		<span class="nb">echo</span> <span class="s2">"stop something"</span>  
		<span class="p">;;</span>
	<span class="k">*</span><span class="p">)</span>
		<span class="nb">echo</span> <span class="s2">"ignore"</span>  
		<span class="p">;;</span>
<span class="k">esac</span>
</code></pre></div></div>

<p>注意</p>

<blockquote>
  <p>pattern 支持正则表达式,可以用下面字符：</p>
</blockquote>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>*       任意字串
?       任意字元
[abc]   a, b, 或c三字元其中之一
[a-n]   从a到n的任一字元
|       多重选择
</code></pre></div></div>

<h2 id="select">select</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh </span>

<span class="k">select </span>ch <span class="k">in</span> <span class="s2">"begin"</span> <span class="s2">"end"</span> <span class="s2">"exit"</span>
<span class="k">do
	case</span> <span class="nv">$ch</span> <span class="k">in</span>
		<span class="s2">"begin"</span><span class="p">)</span>
			<span class="nb">echo</span> <span class="s2">"start something"</span>  
			<span class="p">;;</span>
		<span class="s2">"end"</span><span class="p">)</span>
			<span class="nb">echo</span> <span class="s2">"stop something"</span>  
			<span class="p">;;</span>
		<span class="s2">"exit"</span><span class="p">)</span>
			<span class="nb">echo</span> <span class="s2">"exit"</span>  
			<span class="nb">break</span>
			<span class="p">;;</span>
		<span class="k">*</span><span class="p">)</span>
			<span class="nb">echo</span> <span class="s2">"Ignorant"</span>  
			<span class="p">;;</span>
	<span class="k">esac</span>
<span class="k">done</span>
</code></pre></div></div>

<p>run result</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[user_00@node7 syntax]$ sh select.sh 
1) begin
2) end
3) exit
#? 1
start something
#? 2
stop something
#? aa 
Ignorant
#? 3
exit

</code></pre></div></div>
</div>
                  <!--
                  <p><span class="date-artical pull-left lh30">June 16 , 2016<a class="tags-title" href="/tag/#-ref"></a></span><a class="btn btn-primary pull-right" rel="nofollow" href='/2016/06/16/shell_flow_controll/' target="_blank">阅读全文</a></p>
                  -->
                  <p><span class="date-artical pull-left lh30">June 16 , 2016
                      
                      </span><a class="btn btn-primary pull-right" rel="nofollow" href='/2016/06/16/shell_flow_controll/' target="_blank">阅读全文</a></p>
              </div><hr>
              
            
              
              
              
            
            
            
            
            
            
              <div class="breadcrumb clearfix">
                <div><h3 style="margin-top:13px"><a class="color-title" rel="nofollow" href='/2016/06/01/bash_shortcut/' target="_blank">bash shortcut</a></h3></div>
                  <div class="excerpt"><p><code class="highlighter-rouge">emacs风格</code></p>

<h1 id="已验证">已验证</h1>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ctrl+b 方向键 ← 
ctrl+f 方向键 → 

ctrl+a 光标移到行首 
ctrl+e 光标移到行尾

ctrl+u 清除到行首
ctrl+k 清除光标后至行尾的内容
 
ctrl+d 删除光标所在字母;
ctrl+h 删除光标前的字符, 和backspace相同
ctrl+w 删除光标当前位置到当前单词的开始位置， 常用删除向前删除一个单词

ctrl+t 颠倒当前字符与前一个字符 

ctrl+r 搜索之前打过的命令。根据输入的关键字进行搜索bash的history

ctrl+m 输入回车
ctrl+j 输入回车

ctrl+l 清屏, 相当于 `clear` 

ctrl+p: 方向键上 ↑显示上一个命令 
ctrl+n: 方向键下 ↓显示下一个命令
</code></pre></div></div>

<h1 id="未验证">未验证</h1>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>alt+f: 光标右移一个单词
alt+b: 光标左移一个单词 

ctrl+i : 输入tab 
ctrl+[ : 输入esc

</code></pre></div></div>

<h1 id="ps">ps</h1>
<p><code class="highlighter-rouge">bind -P</code> 查看所有键盘绑定快捷键</p>
</div>
                  <!--
                  <p><span class="date-artical pull-left lh30">June  1 , 2016<a class="tags-title" href="/tag/#-ref"></a></span><a class="btn btn-primary pull-right" rel="nofollow" href='/2016/06/01/bash_shortcut/' target="_blank">阅读全文</a></p>
                  -->
                  <p><span class="date-artical pull-left lh30">June  1 , 2016
                      
                      </span><a class="btn btn-primary pull-right" rel="nofollow" href='/2016/06/01/bash_shortcut/' target="_blank">阅读全文</a></p>
              </div><hr>
              
            
              
            </ul>
            <h3 id="month_2016_May">May</h3>
            <ul>
              
              
              
            
            
            
            
            
            
              <div class="breadcrumb clearfix">
                <div><h3 style="margin-top:13px"><a class="color-title" rel="nofollow" href='/2016/05/28/nginx_proxy_apache/' target="_blank">nginx proxy apache</a></h3></div>
                  <div class="excerpt"><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>user  user_00;
worker_processes  4;

error_log  /data/logs/nginx/error.log warn;
pid        /tmp/nginx.pid;

events {
    worker_connections  60000;
}

http {
    default_type  application/octet-stream;

    log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '
        '$status $body_bytes_sent "$http_referer" '
        '"$http_user_agent" "$http_x_forwarded_for"';

    access_log  off;

    include conf.d/upstream.conf;

    server {
        listen 80;
        server_tokens off;

        location / {
            client_max_body_size 200m;
            client_body_buffer_size 128k;

            proxy_buffering off;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header Host $host;

            proxy_pass http://192.168.1.110:80/;
        }

        location /test {
            allow all;
            include conf.d/proxy.conf;
            proxy_pass http://frontend;
        }
    }
}
</code></pre></div></div>
</div>
                  <!--
                  <p><span class="date-artical pull-left lh30">May 28 , 2016<a class="tags-title" href="/tag/#nginx,php-ref">nginx,php</a></span><a class="btn btn-primary pull-right" rel="nofollow" href='/2016/05/28/nginx_proxy_apache/' target="_blank">阅读全文</a></p>
                  -->
                  <p><span class="date-artical pull-left lh30">May 28 , 2016
                      
                        <a class="tags-title" href="/tag/#nginx,-ref">nginx,</a>&nbsp;
                      
                        <a class="tags-title" href="/tag/#php-ref">php</a>&nbsp;
                      
                      </span><a class="btn btn-primary pull-right" rel="nofollow" href='/2016/05/28/nginx_proxy_apache/' target="_blank">阅读全文</a></p>
              </div><hr>
              
            
              
              
              
            
            
            
            
            
            
              <div class="breadcrumb clearfix">
                <div><h3 style="margin-top:13px"><a class="color-title" rel="nofollow" href='/2016/05/28/php_readline_support/' target="_blank">php readline support</a></h3></div>
                  <div class="excerpt"><h2 id="php-706-readline">php-7.0.6 readline</h2>

<p>./configure –with-php-config=/usr/local/services/php-7.0.6/bin/php-config</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[user_00@dev201 readline]$ ldd modules/readline.so 
linux-vdso.so.1 =&gt;  (0x00007fff0b9db000)
libedit.so.0 =&gt; /lib64/libedit.so.0 (0x00007facbdf09000)
libncurses.so.5 =&gt; /lib64/libncurses.so.5 (0x00007facbdce2000)
libtinfo.so.5 =&gt; /lib64/libtinfo.so.5 (0x00007facbdab7000)
libc.so.6 =&gt; /lib64/libc.so.6 (0x00007facbd6f6000)
libdl.so.2 =&gt; /lib64/libdl.so.2 (0x00007facbd4f2000)
/lib64/ld-linux-x86-64.so.2 (0x00007facbe364000)
</code></pre></div></div>

<p>–with-libedit</p>

<h2 id="php-5616">php-5.6.16</h2>
<p>readline/readline.h  No such file or directory</p>

<p>yum install readline readline-devel</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[user_00@dev201 readline]$ ldd modules/readline.so
linux-vdso.so.1 =&gt;  (0x00007fff3d358000)
libedit.so.0 =&gt; /lib64/libedit.so.0 (0x00007f6863050000)
libncurses.so.5 =&gt; /lib64/libncurses.so.5 (0x00007f6862e29000)
libtinfo.so.5 =&gt; /lib64/libtinfo.so.5 (0x00007f6862bfe000)
libc.so.6 =&gt; /lib64/libc.so.6 (0x00007f686283d000)
libdl.so.2 =&gt; /lib64/libdl.so.2 (0x00007f6862639000)
/lib64/ld-linux-x86-64.so.2 (0x00007f68634ab000)
</code></pre></div></div>

<p>after make</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Libraries have been installed in:
/usr/local/src/php-5.6.16/ext/readline/modules

If you ever happen to want to link against installed libraries
in a given directory, LIBDIR, you must either use libtool, and
specify the full pathname of the library, or use the `-LLIBDIR`
flag during linking and do at least one of the following:
- add LIBDIR to the `LD_LIBRARY_PATH` environment variable
during execution
- add LIBDIR to the `LD_RUN_PATH` environment variable
during linking
- use the `-Wl,--rpath -Wl,LIBDIR` linker flag
- have your system administrator add LIBDIR to `/etc/ld.so.conf

See any operating system documentation about shared libraries for
more information, such as the ld(1) and ld.so(8) manual pages.
</code></pre></div></div>

<p>error</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[user_00@dev201 readline]$ php -a
Interactive mode enabled

php &gt; echo 1;
php: symbol lookup error: /usr/local/services/php/extensions/readline.so: undefined symbol: append_history
</code></pre></div></div>
</div>
                  <!--
                  <p><span class="date-artical pull-left lh30">May 28 , 2016<a class="tags-title" href="/tag/#phpphp_ext-ref">phpphp_ext</a></span><a class="btn btn-primary pull-right" rel="nofollow" href='/2016/05/28/php_readline_support/' target="_blank">阅读全文</a></p>
                  -->
                  <p><span class="date-artical pull-left lh30">May 28 , 2016
                      
                        <a class="tags-title" href="/tag/#php-ref">php</a>&nbsp;
                      
                        <a class="tags-title" href="/tag/#php_ext-ref">php_ext</a>&nbsp;
                      
                      </span><a class="btn btn-primary pull-right" rel="nofollow" href='/2016/05/28/php_readline_support/' target="_blank">阅读全文</a></p>
              </div><hr>
              
            
              
              
              
            
            
            
            
            
            
              <div class="breadcrumb clearfix">
                <div><h3 style="margin-top:13px"><a class="color-title" rel="nofollow" href='/2016/05/28/python_study/' target="_blank">python study</a></h3></div>
                  <div class="excerpt"><h3 id="常识">常识</h3>
<ul>
  <li>用缩进作为语句分组
False:0 None 空的量</li>
</ul>

<h2 id="基础函数">基础函数</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>strHello = "the length of (%s) is %d" %('Hello World',len('Hello World'))
print strHello
</code></pre></div></div>
<p>#输出果：the length of (Hello World) is 11</p>

<h3 id="print自动换行">print自动换行</h3>

<p>print 会自动在行末加上回车,如果不需回车，只需在print语句的结尾添加一个逗号”,“，就可以改变它的行为。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>for i in range(0,5):
    print i,
</code></pre></div></div>
<p>或直接使用下面的函数进行输出：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sys.stdout.write("输出的字串")
</code></pre></div></div>

<h3 id="三个读readreadline和readlines">三个读read(),readline()和readlines()</h3>

<p>将文本文件的内容读入可以操作的字符串变量非常容易。文件对象提供了三个“读”方法： .read()、.readline() 和 .readlines()。每种方法可以接受一个变量以限制每次读取的数据量，但它们通常不使用变量。 .read() 每次读取整个文件，它通常用于将文件内容放到一个字符串变量中。然而 .read() 生成文件内容最直接的字符串表示，但对于连续的面向行的处理，它却是不必要的，并且如果文件大于可用内存，则不可能实现这种处理。</p>

<p>.readline() 和 .readlines() 非常相似。它们都在类似于以下的结构中使用：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>fh = open( 'c:\\autoexec.bat')         
  for line in fh.readlines():                     
    print line.readline() # 每次只读取一行，比 .readlines()慢。仅当没有足够内存可以一次读取整个文件时，才应该使用.readline()。
    print line.readlines() # 一次读取整个文件和.read()一样。自动将文件内容分析成一个行的列表，该列表可以由 `for... in ...` 结构进行处理

</code></pre></div></div>
<p>写：writeline()是输出后换行，下次写会在下一行写。write()是输出后光标在行末不会换行，下次写会接着这行写。</p>

<p>global 全局变量</p>

<p>查找帮助：help(list.append)</p>

<p>删除变量：del(var)</p>

<h3 id="list-列表">list 列表</h3>
<p>[]
list.append(var)
list.remove(var)</p>

<p>del(list[]) 删除变量
del(var) 可以删除任何变量</p>

<h3 id="dict-字典">dict 字典</h3>
<p>{}
字典是python的唯一映射类型（哈希表）
zip 将两个列表的值按照元组合并成列表
字典的键是不可变对象
dict.keys()
dict.values()
dict.item()
dict={1:’gavin’, 2:’tan’}</p>

<p>使用工厂方法生成字典： dict = dict(([‘x’, 1], [‘y’, 2]))
内建方法：{}.fromkeys([‘x’, ‘y’], -1)</p>

<p>f or i in dict:</p>

<p>字典数据更新
字典不是有序的【无序hash】
dict.pop(var)   弹出key 为 var 的值，字典内删除。
dict.clear()  清空字典</p>

<p>str 可将字典转化成字符串</p>

<p>zip 慢
copy
str.join(‘str’)  字符串连接</p>

<p>dict.get(key)
dict.get(key, error)  当key 不存在时，返回错误</p>

<p>多重循环 rang(i, j:step)</p>

<p>返回元组
for i,j in dict.items():
     print i
     print j</p>

<p>Ctrl + c
keyboardInterupt</p>

<p>使用变量来引用函数(python 中的大多数对象),比如foo=math.sqrt 之后，就可以使用foo(xx) 来对xx 求平方根了。</p>

<p>nan 是一个特殊值的简写， not a number(非数值）</p>

<p>@todo
Submit在交互式解释器内使用if语句，需要按2次回车，if 语句才能执行。第五章将对其原因进行解释。</p>

<p>/usr/local/env python</p>

<p><strong>future</strong></p>

<h3 id="import">import</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>from math import sqrt
sqrt(xx)

from math import *
sqrt()

import math
math.sqrt(xx)
</code></pre></div></div>

<p>str, repr, 反引号，可以将python值转换成字符串的3种方法</p>

<p>序列是基本的数据结构
python 中包含6种内建的序列：列表， 元组 【字符串，unicode字符串， buffer对象， xrange 对象】
列表：可以修改 [1,2,3] mutable
元组：不能修改 (1,2,3)</p>

<p>序列（列表，元组），映射（字典）是两类主要的容器</p>

<p>[start:end-1:step]
开始点的元素在结果内，结束点的元素不在结果内</p>

<p>序列相加：[1,2,3] + [4, 5,6]
相同类型的序列才可以相加</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[None]*5
[None, None, None, None, None]
</code></pre></div></div>

<p>使用in 检查值是否在序列中。</p>

<p>append, pop( 默认最后一个）
insert, pop(0)</p>

<p>注意：这些方法修改列表却不返回值，原地修改。
list.remove
list.reverse
list.sort</p>

<p>获取排序列表副本的方法
li = sorted(list)</p>

<p>li.sort(cmp) 可实现同样的功能 li.sort()</p>

<p>list.sort()
可选参数: cmp, key, reverse, 倒序排列
list.sort(reverse=True)</p>

<h3 id="pip">pip</h3>
<p>pip是一个安装和管理 Python 包的工具 ,是easy_install的替代品。
install:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yum install epel-release
yum install python-pip
</code></pre></div></div>

<p>s = [‘a’, ‘b’, ‘c’, ‘d’]
a = ‘hello’
b = ‘python’
c = 1
print ‘%s %s %s %s’ % (a, b, c, s)
输出结果：hello python 1 [‘a’, ‘b’, ‘c’, ‘d’]</p>

<p>字符串倒叙
方法一，使用[::-1]：
s = ‘python’
print s[::-1]
方法二，使用reverse()方法：
l = list(s)
l.reverse()
print ‘‘.join(l)</p>

<p>3.Python中的strip用于去除字符串的首位字符，查找到空格为止。同理，lstrip用于去除左边的字符，rstrip用于去除右边的字符。这三个函数都可传入一个参数，指定要去除的首尾字符。注意的是，传入的是一个字符数组，编译器去除两端所有相应的字符，直到没有匹配的字符，比如：</p>

<p>theString = ‘saaaay yes no yaaaass’
print theString.strip(‘say’)
theString依次被去除首尾在[’s’，’a’，’y’]数组内的字符，直到字符在不数组内。
输出的结果为：yes no</p>

<p>python调试
python -m pdb myscript.py #注意这会重启myscript.py</p>

<p>可以在程序中这么设置断点：
import pdb;
pdb.set_trace()</p>

<p>可以修改变量的值，但是要注意，前面加上！比如要修改final的值，应该这样!final=”newvalue”</p>

<p>支持命令：
    p 打印变量
    n next
    step 细点运行
    c continue
    l list
    a args 打印当前函数的参数
    condition bpnumber [condition]
    clear/disable/enable 清除/禁用/使能断点
    q quit</p>

<p>学习过程
1、python中文件名即使模块明，如系统存在一个库叫string则如果用户自定义一个string.py的文件，当运行这个文件的时候系统将会将这个文件生成string.pyc，这时候如果用户使用
import string
这个时候导入的将使用户自定义string.py 的文件内容</p>

<p>2、print “xxx”
SyntaxError: invalid syntax</p>

<p>备注：python3里print是函数不是语法， 要加括号
正确的写法：print(“xxx”)</p>

<p>3、这是文件编码必须在第一行或者第二行</p>
<h1 id="encodinggbk">encoding=gbk</h1>
<p>这里encoding=gbk之间不能有空格</p>

<p>出错点在于 s= ‘哈哈’ 
python默认是acii模式，换成utf-8也不支持中文，虽然说utf-8是全世界语言通行的，但是由于windows系统内并没有完全实现utf-8的全部编码。
如果你要显示中文的话换成gbk模式，文件里有非ASCII字符，须要在第一行或第二行指定编码声明：
这里必须是在第一行或者第二行指定编码声明</p>
<h1 id="codinggbk">coding=gbk</h1>
<p>s = “中文”
print s</p>

<p>4、只有在形参末尾的参数才可以使用默认参数值，即你不能再声明形参的时候，先声明有默认值得形参而后声明没有默认值的参数</p>

<p>5、关键参数
     如果你的某个函数有许多参数，而你只是想指定其中的一部分，那么你可以通过命名来为这些参数赋值———这被称为关键参数———我们使用名字（关键字）而不是位置（一般我们都使用位置来给参数指定实参），这样的优势是，我们不用担心参数的顺序，使用函数变得更加简单，假设很多参数都有默认值，我们可以只给我们想要的那些参数赋值。</p>

<p>6、return
     没有返回值的return语句等价于return None,None是python中表示没有任何东西的特殊类型，如果一个变量的值是None，可以表示他没有值。
     除非你提供自己的return语句，每个函数都在结尾暗含有 return None语句。任何没有返回值的函数都会默认返回None</p>

<p>7、pass语句在python中表示一个空的语句块
     def someFunc():
          pass
8、文档字符串，函数在第一个逻辑行的字符串是这个函数的文档字符串，注意DocStrings也适用于模块和类。
     文档字符串的惯例是，一个多行字符串，它的首行以大写字母开始，句号结尾。第二行是空行，从第三行开始是详细的描述。
     可以使用__doc__注意这是双下划线，调用printMax函数的文档字符串属性（属于函数的名称）。注意在python中每一样东西都是作为对象的，包括函数。
     python中的help()，它就是抓取函数的__doc__属性，然后整洁的展示给你。
     
9、模块
     模块基本上就是一个包含了所有你定义的函数和变量的文件，为了能在其他程序中重用模块，模块的文件名必须以.py为扩展名</p>

<p>     python执行import sys语句的时候，它在sys.path变量中所列的目录中寻找sys.py模块，如果找到了这个文件，这个模块的主块中的语句江北运行，然后这个模块能被你使用，注意：初始化过程仅仅在我们第一次输入模块的时候进行，sys是system的缩写。
     可以自定义模块，并且定义其中的变量和函数，可以再其他模块中导入并调用
      如果是当前正在运行的模块则__name__的值为 <strong>main</strong>(说明这个模块式被用户单独运行的，我们可以进行一些操作），如果不是则显示模块名称</p>

<p>10、字节编译的.pyc文件
     在一个模块中导入另一个模块相对来说是件比较费时的事情，所以python做了一些技巧，以便import模块更加快一些，一种方法是创建字节编译文件，这些文件以.pyc作为扩展名。字节编译文件与python变换程序的中间状态有关，当你下次从别的程序输入这个模块的时候，.pyc文件十分有用，它会快很多，因为一部导入模块所需要需要的处理已经完成，另外这些字节编译文件也是平台无关的。
     Python语言写的程序不需要编译成二进制代码。你可以直接从源代码 运行 程序。在计算机内部，Python解释器把源代码转换成称为字节码的中间形式，然后再把它翻译成计算机使用的机器语言并运行。事实上，由于你不再需要担心如何编译程序，如何确保连接转载正确的库等等，所有这一切使得使用Python更加简单。由于你只需要把你的Python程序拷贝到另外一台计算机上，它就可以工作了，这也使得你的Python程序更加易于移植。</p>

<p>12、from..import
     如果你想要直接导入argv变量到你的程序中（避免在每次使用时都打sys), 那么你可以使用from sys import argv语句，如果你想要输入所有sys模块使用的名字，那么你可以使用from sys import *语句，这对于所有模块都使用，一般来说避免使用from..import而使用import语句，因为这样可以使你的程序更加易读，也可以避免名称的冲突。
     from mymodule import say, version # 这里可以导入函数名和变量名</p>

<p>13、<strong>name</strong>
     假如我们只想在程序本身被使用的时候运行主块，而在它被别的模块输入的时候不运行主块，通过模块的__name__属性完成
14、dir()函数
     可以使用内建的dir函数来列出模块定义的标示符（函数，类，变量）
     当你为dir()提供一个模块名的时候，它返回模块定义的名称列表，如果不提供参数，它返回当前模块中定义的名称列表
15、数据结构
     列表，元祖，字典，序列，引用
     python中有三中内建的数据结构：列表，元组，字典</p>

<p>     列表：中括号
     列表是可变的数据结构，可以添加任何种类的对象包括数甚至是其他列表
     列表是使用对象和类的一个例子，当你使用变量i 并给它赋值的时候，比如赋值整数5， 你可以认为你创建了一个类（类型）int的对象实例（i），你可以看一下help(int)理解
     在for循环的过程中print i，这里使用一个逗号来消除每行结尾的换行符。
     list.sort()排序影响的是列表本身，而不是返回修改后的列表，这个与字符串的工作方式不同。同时这也从侧面说明了，列表时可变的，而字符串是不可变的。</p>

<p>     元组：圆括号
     元组和字符串是一样的，是不可变的。元组通过圆括号中用逗号分割的项目定义。
     元组通常用在使语句或者用户定义的函数能够安全地采用一组值得时候，即使使用的元组的值不会改变。
     len函数可以用来获取元组的长度，这也表明元组也是一个序列
     可以通过方括号的形式来访问元组中的项目
     一个空的元组由一对空的圆括号组成，如mytuple=().
     含有单个元素的元组就不那么简单了，你必须在第一个项目（元素）后面跟一个逗号，这样python才能区分元组和表达式中一个带圆括号的对象。例如：mytuple=(2,)
     列表中的列表不会失去它的身份。
     
     元组的通常用法是在打印语句中。
     print 语句可以使用跟着%符号的元组的字符串
     print ‘%s is %d’ % (name, age)</p>

<p>     字典：键必须是唯一的
     注意：只能使用不可变的对象（比如字符串）来作为字典的键，但是你可以把可变的或者不可变的对象作为字典的值，总体来说：使用简单对象作为键
     键值对在字典中的方式标记：d = {key1:value1, key2:value2}，注意键值对使用冒号分割，而键值对之间用逗号分割。字典的键值对是没有顺序的。
     字典是dict类的实例
     关键字参数和字典，使用字典做关键字参数，当你在使用变量的时候，他只不过是使用一个字典的键（符号表）</p>

<p>     序列：列表和元组，字符串都是序列
     特点：索引操作符合切片操作，索引操作符可以让我们从序列中抓取一个特定的项目（元素），切片操作符让我们能够获取到到一部分序列
     切片操作符：是序列名后跟一个方括号，方括号中是一对可选的数字，并用冒号分开。
     第一个参数：冒号之前，表示切片开始的位置，
     第二个参数：冒号之后，表示切片到哪里结束
     如果不指定第一个数，python 会从序列首开始，如果没有指定第二个数，则python会停止在序列的结尾</p>

<p>     引用：
     当你创建一个对象并给它赋一个变量的时候，这个变量仅仅引用哪个对象，而不是表示对象本身！也就是说，变量名指向你计算机中存储哪个对象的内存，这个被称作名称到对象的绑定。一般来说，开发人员不需要关心这个。
     复制一个列表或者类似的序列或者其他复杂对象（不是整数那样的简单对象）那么你需要使用切片操作来取得拷贝。myList = shopList[:]
     如果你只想要使用另外一个变量名，两个名称都引用同一个对象，如果你不小心，可能会引起不必要的麻烦。</p>

<p>     字符串方法</p>

<p>第11章     面向对象
1、属于一个对象或者类的变量被称为域。
     域有两种类型，属于每个实例/类的对象或属于类本身，本别称为实例变量和类变量。
p72     16:46
21:40回来
21:03开始
     类的方法与普通的函数只有一个特别的区别，他们必须有一个额外的第一个参数名称，但是在调用这个方法的时候你不为这个参数赋值，python会提供这个值。这个特别的变量是指对象本身，按照惯例它的名称是self.
     如果你有一个不需要参数的方法，你还是得给这个方法定义一个self参数。
     pass 表示空白块
     创建对象：使用类名后跟一对圆括号来创建一个对象（实例）
     &lt;<strong>main</strong>.Person instance at )xfyfcb18c&gt;:表示已经在__main__模块中有一个Person类的实例。注意：这里将存储对象的计算机内存地址也打印出来了。python可以再任何空位存储对象。
     对象的方法：和函数的区别，只是多了一个额外的self变量。
2、__init__方法
     在python的类中有很多方法的名字有特殊的意义。
     __init__方法在类的一个对象被建立时，马上运行。这个方法可以用来对你的对象做一些希望的初始化。注意名称的开头和结尾都是双下划线。
     在函数中直接创建类的成员属性。
3、类与对象的方法
     类变量：是由一个类的所有对象（实例）共享使用，只有一个类变量的拷贝，所以当某个对象对类变量做了改动的时候，这个改动会反应到所有其他的实例上。
     对象变量：是由类的所有对象(实例）拥有，因此每个对象有自己对这个域的一份拷贝，即他们不是共享的，在一个类的不同实例中，虽然变量有相同的名称，但是他们互不关联。
     类变量：直接定义到类中和方法同级
     __del__当对象不再被使用时，该方法被调用，但是很多时候我们很难保证这个方法在什么时候被调用
     对象的销毁过程符合栈的方式，先进后出，先创建的对象最后被销毁
     备注：python中所有的类成员（包括数据成员）都是公共的，所有的方法都是有效的。特殊：如果你使用的数据成员是以双下划线开始的如：__name，在python的名称管理体系中会把他作为私有变量。
     惯例：如果某个变量只想在类或者对象中使用，就应该以下划线前缀。这个并非python所必须。
4、继承
     为了使用继承，我们把基类的名称作为一个元组跟在定义类的类名称之后。python不会自动的调用基类的constructor，必须要显示的执行调用才可以。
     python中可以同名方法覆盖，子类方法可以覆盖父类方法，当调用方法的时候如果不能在当前类中找出方法，它开始在基类中逐个查找。基类：在类定义时候，元组中声明的。
     多重继承：如果在继承元组中列了一个以上的类，那么它就被称作多重继承。
     
第十二章     输入输出
1、raw_input(),print
     file(‘xx.txt’)，如果没有指定模式，读模式会作为默认的模式
2、存储器
     python提供一个标准的模块，称为pickle。使用它你可以再文件中存储任何python对象，之后你可以将他完整无缺的取出来。这被称为持久地存储对象。
     cPickle，它的功能和pickle模块完全相同，只不过它是C语言编写的，因此要快很多（比pickle快1000倍）
     pickle     泡菜，腌制品
     
第十三章     异常
1、try..except
     通常的语句放在try块中，而把错误处理放在except块中
     可以让try..catch块关联上一个else从句，当没有异常发生的时候，else从句将被执行。
2、异常引发
     可以使用raise语句引发异常，指明错误异常的名称和伴随异常出发的异常对象。你可以引发的错误或异常应该分别是一个Error或Exception类的直接或间接导出类。</p>

<p>python 应用场景
承担者数据挖掘
数据分析
日志分析
自动化外链
爬虫和分析页面数据建设等等，
我相信也是其他人员的利器，比如系统管理员，动画制作人员，科学实验人员。</p>

<p>65页</p>

<p>主页 ：http://www.python.org/</p>

<p>python中文教程 ：
http://www.woodpecker.org.cn/obp/diveintopython-zh-5.4/zh-cn/dist/html/toc/index.html</p>

<p>python中文社区 ：
http://python.cn/
python 中文手册
http://www.pythonet.cn</p>

<p>ChinaUNIX论坛区的python版 
http://bbs.chinaunix.net/forum-55-1.html</p>

<p>一本最佳的python入门书籍 (英文）
http://china-pub.shop.eol.cn/computers/common/info.asp?id=25523
一个很好的开源pythonIDE 
http://stani.be/python/spe/blog/</p>

<p>http://www.okpython.com
老黄纸条箱（黄冬）http://blog.opensource.org.cn/hdcola/
Limodou的学习笔记（木头）网址：http://blog.donews.com/limodou/ http://limodou.javaeye.com/
邱英波 http://www.dup2.org/blog
肥三的专栏——热酷网CTO梁冰鸿 网址：http://blog.csdn.net/FeiSan</p>

<p>社区/论坛
灵蛇网：http://bbs.pythonid.com/
Python中文社区：http://www.pythonbbs.cn
http://bbs.chinaunix.net/thread-1164933-1-1.html</p>
</div>
                  <!--
                  <p><span class="date-artical pull-left lh30">May 28 , 2016<a class="tags-title" href="/tag/#-ref"></a></span><a class="btn btn-primary pull-right" rel="nofollow" href='/2016/05/28/python_study/' target="_blank">阅读全文</a></p>
                  -->
                  <p><span class="date-artical pull-left lh30">May 28 , 2016
                      
                      </span><a class="btn btn-primary pull-right" rel="nofollow" href='/2016/05/28/python_study/' target="_blank">阅读全文</a></p>
              </div><hr>
              
            
              
              
              
            
            
            
            
            
            
              <div class="breadcrumb clearfix">
                <div><h3 style="margin-top:13px"><a class="color-title" rel="nofollow" href='/2016/05/28/byte_order/' target="_blank">byte order</a></h3></div>
                  <div class="excerpt"><ul id="markdown-toc">
  <li><a href="#hexdump" id="markdown-toc-hexdump">hexdump</a>    <ul>
      <li><a href="#小端序little-endian" id="markdown-toc-小端序little-endian">小端序little-endian</a></li>
      <li><a href="#大端序big-endian" id="markdown-toc-大端序big-endian">大端序big-endian</a></li>
      <li><a href="#网络序" id="markdown-toc-网络序">网络序</a></li>
      <li><a href="#reference" id="markdown-toc-reference">reference</a></li>
    </ul>
  </li>
</ul>

<h1 id="hexdump">hexdump</h1>

<p>$ cat a.txt</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>abc
</code></pre></div></div>

<p>示例</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[user_00@thinkpad tmp]$ hexdump -x a.txt
0000000    6261    0a63                                               
0000004

[user_00@thinkpad tmp]$ hexdump a.txt
0000000 6261 0a63                              
0000004
</code></pre></div></div>

<p>实际的值</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>0000000 ba \nc                              
0000004
</code></pre></div></div>

<p>ascii 值</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\n 10 换行（newline) `\x0a`
\r 13 回车 (return) `\x0d`
</code></pre></div></div>
<p>换行符</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>window  `\r\n`
linux `\n`

</code></pre></div></div>

<h3 id="小端序little-endian">小端序little-endian</h3>
<p>最低位字节0x0D存储在最低的内存地址处。后面字节依次存在后面的地址处。</p>

<h3 id="大端序big-endian">大端序big-endian</h3>
<p>最高位字节0x0A存储在最低的内存地址处。下一个字节0x0B存在后面的地址处。类似于十六进制字节从左到右的阅读顺序。</p>

<p><code class="highlighter-rouge">x86</code>处理其一般都是<code class="highlighter-rouge">little-endian</code></p>

<h3 id="网络序">网络序</h3>
<p>网络传输一般采用大端序，也被称为<code class="highlighter-rouge">网络字节序</code>，或<code class="highlighter-rouge">网络序</code>。IP协议中定义大端序为网络字节序。</p>

<h3 id="reference">reference</h3>
<ol>
  <li><a href="https://zh.wikipedia.org/wiki/%E5%AD%97%E8%8A%82%E5%BA%8F">字节序</a></li>
  <li><a href="http://man.linuxde.net/hexdump">hexdump</a></li>
  <li><a href="http://www.liaoxuefeng.com/wiki/001374738125095c955c1e6d8bb493182103fac9270762a000/001399413803339f4bbda5c01fc479cbea98b1387390748000">base64</a></li>
  <li><a href="https://zh.wikipedia.org/wiki/Base64">wikipedia base64</a></li>
  <li><a href="http://www.ruanyifeng.com/blog/2008/06/base64.html">base64 blog</a></li>
  <li><a href="http://www.cnblogs.com/lifesting/archive/2012/07/12/2587923.html">base64 url</a></li>
</ol>
</div>
                  <!--
                  <p><span class="date-artical pull-left lh30">May 28 , 2016<a class="tags-title" href="/tag/#-ref"></a></span><a class="btn btn-primary pull-right" rel="nofollow" href='/2016/05/28/byte_order/' target="_blank">阅读全文</a></p>
                  -->
                  <p><span class="date-artical pull-left lh30">May 28 , 2016
                      
                      </span><a class="btn btn-primary pull-right" rel="nofollow" href='/2016/05/28/byte_order/' target="_blank">阅读全文</a></p>
              </div><hr>
              
            </div>
            
            
              <!-- 分页链接 -->
              <ul class="pagination">
                <li>
                  <a href="/">
                    <span>首页</span>
                  </a>
                </li>
                <li>
                  
                  <span>&laquo;</span>
                  
                </li>
                <li>
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                <span class="active">1</span>
                
                
                
                <a href="/page2/">2</a>
                
                
                
                <a href="/page3/">3</a>
                
                
                </li>
                <li>
                  
                  <a href="/page2">
                    <span>&raquo;</span>
                  </a>
                  
                </li>
                <li>
                  <a href="/page3">
                    <span>末页</span>
                  </a>
                </li>
              </ul>
          </div>
        </div>
      </div>
 </div>
<script src="/styles/js/tag.min.js"></script>
<script>
  var i=0;
  var oTag=null;
  oDiv=document.getElementById('tagscloud');
  aA=oDiv.getElementsByTagName('a');
  for(i=0;i<aA.length;i++)
  {
    oTag={};
    aA[i].onmouseover = (function (obj) {
      return function () {
        obj.on = true;
        this.style.zIndex = 9999;
        this.style.color = '#fff';
        this.style.padding = '5px 5px';
        this.style.filter = "alpha(opacity=100)";
        this.style.opacity = 1;
      }
    })(oTag)
    aA[i].onmouseout = (function (obj) {
      return function () {
        obj.on = false;
        this.style.zIndex = obj.zIndex;
        this.style.color = '#fff';
        this.style.padding = '0 5px';
        this.style.filter = "alpha(opacity=" + 100 * obj.alpha + ")";
        this.style.opacity = obj.alpha;
        this.style.zIndex = obj.zIndex;
      }
    })(oTag)
    oTag.offsetWidth = aA[i].offsetWidth;
    oTag.offsetHeight = aA[i].offsetHeight;
    mcList.push(oTag);
  }
  sineCosine( 0,0,0 );
  positionAll();
  (function () {
    update();
    setTimeout(arguments.callee, 40);
  })();
</script>

    <footer class="footer" role="contentinfo">
	<!--不蒜子pv/uv统计-->
	<div class="post-meta">
            <p>Total <span id="busuanzi_value_site_pv"></span> views，您是本站的第<span id="busuanzi_value_site_uv"></span>个小伙伴，<span id="busuanzi_value_page_pv"></span> Hits</p><br/>
    </div>
	<div class="container">
		<p class="copyright">Copyright &copy; 2017 <a href="http://cstabor.github.io/me/" target="_blank"><code>helloworld</code></a>. All rights reserved. </p>
		<p>Powered by <a href="http://jekyllrb.com" target="_blank">Jekyll</a>， Data by <a href="https://tongji.baidu.com/web/23811489/overview/index" target="_blank">Bai Du</a>.</p>
	</div>
	<ul id="gotop"><li><span>TOP</span></li></ul>
</footer>
<script src="http://apps.bdimg.com/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="http://apps.bdimg.com/libs/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script src="/styles/js/function.min.js"></script>
<script src="/styles/js/lessismore.js"></script>
<script src="/styles/js/application.min.js"></script>
  </body>
</html>
